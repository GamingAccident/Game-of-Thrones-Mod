appoint_hand_of_the_king = {
	category = relation

	alert_index = 40
	alert_tooltip = appoint_hand_of_the_king_tt

	require_acceptance = yes

	is_visible = {
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
			}
			is_emperor_of_china = yes
		}
		else = {
			tag = CRW
		}
	}
	is_allowed = {
		always = yes
	}
	on_accept = {
		event_target:et_handoftheking = {
			remove_country_modifier = got_hand_of_the_king
		}
		clear_global_event_target = et_handoftheking
		FROM = {
			save_global_event_target_as = et_handoftheking
			add_country_modifier = {
				name = got_hand_of_the_king
				duration = -1
			}
		}
	}
	on_decline = {

	}

	ai_acceptance = {
		add_entry = {
			name = TRUST
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = OPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.2
			}
		}
		add_entry = {
			name = diplomatic_reputation
			limit = { }
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AIWEIGHT_POWERF
			export_to_variable = {
				variable_name = ai_value
				value = 100
			}
		}
		add_entry = {
			name = AIWEIGHT_EXPECTS
			limit = {
				FROM = { has_reform = great_house_reform }
			}
			export_to_variable = {
				variable_name = ai_value
				value = 1000
			}
		}
	}
	ai_will_do = {
		always = yes
	}
}

appoint_master_of_coin = {
	category = relation

	alert_index = 40
	alert_tooltip = appoint_master_of_coin_tt

	require_acceptance = yes

	is_visible = {
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
			}
			is_emperor_of_china = yes
		}
		else = {
			tag = CRW
		}
	}
	is_allowed = {
		always = yes
	}
	on_accept = {
		event_target:et_masterofcoin = {
			remove_country_modifier = got_master_of_coin
		}
		clear_global_event_target = et_masterofcoin
		FROM = {
			save_global_event_target_as = et_masterofcoin
			add_country_modifier = {
				name = got_master_of_coin
				duration = -1
			}
		}
	}
	on_decline = {

	}

	ai_acceptance = {
		add_entry = {
			name = TRUST
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = OPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.2
			}
		}
		add_entry = {
			name = diplomatic_reputation
			limit = { }
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AIWEIGHT_POWERL
			export_to_variable = {
				variable_name = ai_value
				value = 10
			}
		}
		add_entry = {
			name = AIWEIGHT_EXPECTS
			limit = {
				FROM = { has_reform = great_house_reform }
			}
			export_to_variable = {
				variable_name = ai_value
				value = 1000
			}
		}
	}
	ai_will_do = {
		always = yes
	}
}

appoint_master_of_laws = {
	category = relation

	alert_index = 40
	alert_tooltip = appoint_master_of_laws_tt

	require_acceptance = yes

	is_visible = {
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
			}
			is_emperor_of_china = yes
		}
		else = {
			tag = CRW
		}
	}
	is_allowed = {
		always = yes
	}
	on_accept = {
		event_target:et_masteroflaws = {
			remove_country_modifier = got_master_of_laws
		}
		clear_global_event_target = et_masteroflaws
		FROM = {
			save_global_event_target_as = et_masteroflaws
			add_country_modifier = {
				name = got_master_of_laws
				duration = -1
			}
		}
	}
	on_decline = {

	}

	ai_acceptance = {
		add_entry = {
			name = TRUST
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = OPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.2
			}
		}
		add_entry = {
			name = diplomatic_reputation
			limit = { }
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AIWEIGHT_POWERL
			export_to_variable = {
				variable_name = ai_value
				value = 10
			}
		}
		add_entry = {
			name = AIWEIGHT_EXPECTS
			limit = {
				FROM = { has_reform = great_house_reform }
			}
			export_to_variable = {
				variable_name = ai_value
				value = 1000
			}
		}
	}
	ai_will_do = {
		always = yes
	}
}

appoint_master_of_ships = {
	category = relation

	alert_index = 40
	alert_tooltip = appoint_master_of_ships_tt

	require_acceptance = yes

	is_visible = {
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
			}
			is_emperor_of_china = yes
		}
		else = {
			tag = CRW
		}
	}
	is_allowed = {
		always = yes
	}
	on_accept = {
		event_target:et_masterofships = {
			remove_country_modifier = got_master_of_ships
		}
		clear_global_event_target = et_masterofships
		FROM = {
			save_global_event_target_as = et_masterofships
			add_country_modifier = {
				name = got_master_of_ships
				duration = -1
			}
		}
	}
	on_decline = {

	}

	ai_acceptance = {
		add_entry = {
			name = TRUST
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = OPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.2
			}
		}
		add_entry = {
			name = diplomatic_reputation
			limit = { }
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AIWEIGHT_POWERF
			export_to_variable = {
				variable_name = ai_value
				value = 50
			}
		}
		add_entry = {
			name = AIWEIGHT_EXPECTS
			limit = {
				FROM = { has_reform = great_house_reform }
			}
			export_to_variable = {
				variable_name = ai_value
				value = 1000
			}
		}
	}
	ai_will_do = {
		always = yes
	}
}

appoint_master_of_whisperers = {
	category = relation

	alert_index = 40
	alert_tooltip = appoint_master_of_ships_tt

	require_acceptance = yes

	is_visible = {
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
			}
			is_emperor_of_china = yes
		}
		else = {
			tag = CRW
		}
	}
	is_allowed = {
		always = yes
	}
	on_accept = {
		event_target:et_masterofwhisperers = {
			remove_country_modifier = got_master_of_whisperers
		}
		clear_global_event_target = et_masterofwhisperers
		FROM = {
			save_global_event_target_as = et_masterofwhisperers
			add_country_modifier = {
				name = got_master_of_whisperers
				duration = -1
			}
		}
	}
	on_decline = {

	}

	ai_acceptance = {
		add_entry = {
			name = TRUST
			export_to_variable = {
				variable_name = ai_value
				value = trust
				who = FROM
				with = ROOT
			}			
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			#1 trust = +4 ai points
			multiply_variable = {
				which = ai_value
				value = 0.4
			}
		}
		add_entry = {
			name = OPINION
			export_to_variable = {
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			multiply_variable = {
				which = ai_value 
				value = 0.2
			}
		}
		add_entry = {
			name = diplomatic_reputation
			limit = { }
			export_to_variable = {
				variable_name = ai_value
				value = trigger_value:diplomatic_reputation
			}
			#1 rep = 3
			multiply_variable = {
				which = ai_value
				value = 3
			}
		}
		add_entry = {
			name = AIWEIGHT_POWERF
			export_to_variable = {
				variable_name = ai_value
				value = 50
			}
		}
		add_entry = {
			name = AIWEIGHT_EXPECTS
			limit = {
				FROM = { has_reform = great_house_reform }
			}
			export_to_variable = {
				variable_name = ai_value
				value = 1000
			}
		}
	}
	ai_will_do = {
		always = yes
	}
}